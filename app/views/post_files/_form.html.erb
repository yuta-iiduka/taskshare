<%= form_with model: files, local: true do |form| %>
  <div calss = "form-group">
    <%= form.label :title ,class:"font-weight-bold" %>
    <%= form.text_field :title ,class:"form-control input-sm" %><br>
  </div>
  <div calss = "form-group">
    <%= form.label :files,class:"font-weight-bold" %><br>
    <%= form.file_field :files , multiple: true ,id: 'file-but', class: 'file-but' %><br><br>
  </div>
  <div calss = "form-group">
    <%= form.label :introduction,class:"font-weight-bold" %><br>
    <%= form.text_area :introduction,class:"form-control input-sm" %><br>
  </div>
  <div class = "form-group">
    <%= form.label :tag,class:"font-weight-bold" %>
    ※現在のTag:
    <%= @tag_list %>
    <%= form.text_field :name, placeholder: "タグを複数つけるには半角','で区切ってください。",class: "form-control input-sm", value: @tag_list %>
  </div>
  <label><b>Rate</b></label><br>
  <div id ="evaluate_stars">
    <%= form.hidden_field :evaluation, id: :review_star %>
  </div><br>
  <div calss = "form-group">
    <%= form.submit id: 'upload-btn',disabled: true %>
  </div>
<% end %>
<script>
  $('#evaluate_stars').empty();
  $('#evaluate_stars').raty({
  starOn: "<%= asset_path('star-on.jpg') %>",
  starOff: "<%= asset_path('star-off.jpg') %>",
  starHalf: "<%= asset_path('star-half.jpg') %>",
  scoreName: 'post_file[evaluation]' //登録するモデル名とカラム名を記述
  });
  $('#file-but').on('change',function(){
    if (document.getElementById("file-but").value === ""){
      document.getElementById("upload-btn").disabled = true;
    }
    else {
    document.getElementById("upload-btn").disabled = false;
    }
  });
</script>